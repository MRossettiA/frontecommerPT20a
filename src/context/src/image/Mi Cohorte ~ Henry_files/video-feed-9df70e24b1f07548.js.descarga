(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8741],{4932:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/my-cohort/video-feed",function(){return o(3054)}])},5470:function(e,t,o){"use strict";o.r(t),o.d(t,{LayoutCohort:function(){return M},default:function(){return E}});var l=o(5893),r=(o(7294),o(1163)),i=o(9008),n=o.n(i),s=o(7174),a=o(8919),d=o(7095),c=o(1700),u=o(5537),h=o(7484),v=o.n(h),f=o(4184),m=o.n(f),p=o(3832);const j=m()(a.B22["title-large"],a.ceP["primary-grey"]),y=m()(a.B22["label-large"],a.ceP["tertiary-grey"]),C=e=>{let{cohort:t,router:o}=e;var r,i,n;const d=(0,a.J1k)(),c="GRADUATED"===(null===d||void 0===d?void 0:d.cohortStatus),u=v()(t.startDate).format("DD/MM/YYYY"),h=v()(t.endDate).format("DD/MM/YYYY"),f="CAREER"===(null===t||void 0===t||null===(r=t.career)||void 0===r?void 0:r.type),m="UPSKILLING"===(null===t||void 0===t||null===(i=t.career)||void 0===i?void 0:i.type),C=[{dataCy:"CAREER_NAV_ITEM",label:"Mi Carrera",linkProps:{href:s.j.careerCohort.url,legacyBehavior:!0},active:(null===o||void 0===o?void 0:o.pathname)===s.j.careerCohort.url}];return"UFSOD"!==(null===(n=t.career.code)||void 0===n?void 0:n.toUpperCase())&&C.push({dataCy:"VIDEO_FEED_NAV_ITEM",label:"Video Feed",linkProps:{href:s.j.videoFeedMyCohort.url,legacyBehavior:!0},active:(null===o||void 0===o?void 0:o.pathname)===s.j.videoFeedMyCohort.url},{dataCy:"MEMBERS_NAV_ITEM",label:"Miembros",linkProps:{href:s.j.membersCohort.url,legacyBehavior:!0},active:(null===o||void 0===o?void 0:o.pathname)===s.j.membersCohort.url}),m||C.push({dataCy:"ACADEMIC_DATA_NAV_ITEM",label:"Datos Acad\xe9micos",linkProps:{href:s.j.academicDataCohort.url,legacyBehavior:!0},active:(null===o||void 0===o?void 0:o.pathname)===s.j.academicDataCohort.url}),(0,l.jsxs)("div",{children:[(0,l.jsx)(a.Aru,{title:(0,l.jsxs)("div",{className:j,children:["Cohorte ",t.name]}),subTitle:(0,l.jsxs)("div",{className:y,children:[(0,l.jsx)("span",{style:{marginRight:"0.25rem"},children:(0,l.jsx)(a.JO$,{type:"calendar"})}),"Inicio: ",u," - Fin: ",h]}),items:C}),(0,l.jsx)("br",{}),(f||m)&&!c&&(0,l.jsx)(p.D,{})]})};const _=e=>{let{router:t}=e;const{currentCohort:o}=(0,u.u)();return o?(0,l.jsx)(C,{router:t||{},cohort:o}):(0,l.jsx)("div",{})};var x=o(2265),g=o.n(x);const M=e=>{let{children:t,title:o}=e;const i=(0,r.useRouter)(),u=(0,a.cKm)(),h="sm"===u?{href:s.j.MyCohort.url,caption:"Volver a Mi Cohorte"}:{href:s.j.home.url,caption:"Volver a la home"},v="/my-cohort"===i.pathname,f=["md","lg","sd"].includes(u),m=f?"Mi Cohorte":o;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n(),{children:(0,l.jsxs)("title",{children:[m," ~ Henry"]})}),(0,l.jsx)(d.Z,{content:(0,l.jsxs)("div",{className:g().layout,children:[v||f?(0,l.jsx)("div",{className:g().profileMenu,children:(0,l.jsx)(_,{router:i})}):null,(0,l.jsx)("div",{className:g().content,children:t})]}),header:(0,l.jsx)(c.h,{}),headerInfo:(0,l.jsx)(a.NZf,{title:m,prevLink:h})})]})};var E=M},3054:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return y}});var l=o(5893),r=o(7294),i=o(5591),n=o(6486),s=o(1534),a=o(8919),d=o(5537),c=o(2910);var u=o(2756),h=o(1363),v=o.n(h);const f=e=>{let{videosTitles:t,modulesTitles:o,handleChangeFiltersValues:r}=e;const i=document.querySelector(".select-option");return null===i||void 0===i||i.classList.add(v().selectOption),(0,l.jsx)(a.Zbd,{children:(0,l.jsxs)("div",{className:v().container,children:[(0,l.jsx)("span",{className:v().label,children:"Filtrar por: "}),(0,l.jsxs)("div",{className:v().selects,children:[(0,l.jsx)(a.zZP,{label:"Espacio",options:u.U,onChange:e=>r("space",e)}),!!t.length&&(0,l.jsx)(a.zZP,{label:"Video",options:t,onChange:e=>r("title",e)}),(0,l.jsx)(a.zZP,{label:"M\xf3dulo",options:o,onChange:e=>r("module",e)})]})]})})};const m=e=>{let{videosTitles:t,modulesOfCohort:o,handleChangeFiltersValues:r}=e;const i=(null===o||void 0===o?void 0:o.map((e=>({value:e,text:e}))))||[];return(0,l.jsx)(f,{videosTitles:t,modulesTitles:i,handleChangeFiltersValues:r})};const p=()=>{const[e,t]=(0,r.useState)({space:"",title:"",module:""}),[o,u]=(0,r.useState)([]),{currentCohort:h}=(0,d.u)(),v=null===h||void 0===h?void 0:h.id,f=(0,r.useMemo)((()=>((e,t)=>{const o=[],{title:l,module:r,space:i}=e;return r&&o.push(r),i&&o.push(i),{filterByTitle:l||void 0,filterByCohortId:t,"filterByTags[]":o.length>0?o:void 0}})(e,v||"")),[e,v]),{data:p,mutate:j}=(0,i.ZP)(v?["video-feed-controller-video-feeds",v,(null===f||void 0===f?void 0:f["filterByTags[]"])||"",(null===f||void 0===f?void 0:f.filterByTitle)||""]:null,(0,a.Oyn)(s.Z.henry.henryVideoControllerHenryVideos,{orderAscOrDesc:"DESC",...f}),{revalidateOnFocus:!1,revalidateOnReconnect:!1,revalidateIfStale:!1,revalidateOnMount:!0}),y=null===p||void 0===p?void 0:p.filter((e=>!e.hidden)),C=(null===h||void 0===h?void 0:h.career.modulesCofig.map((e=>e.title)))||[];return(0,r.useEffect)((()=>{if(p&&p.length){const l=p.filter((e=>{var t;return!e.hidden&&(null===(t=e.title)||void 0===t?void 0:t.length)}));if(!l.length)return;const r=l.map((e=>({value:e.title,text:e.title})));o.length&&(e=o,t=r,JSON.stringify(e)===JSON.stringify(t))||u(r)}var e,t}),[p]),(0,l.jsx)("div",{style:{marginLeft:"1.25rem"},children:(null===h||void 0===h?void 0:h.id)&&(0,l.jsxs)("div",{children:[(0,l.jsx)(m,{currentCohortId:(null===h||void 0===h?void 0:h.id)||"",modulesOfCohort:C,videosTitles:o||[],handleChangeFiltersValues:(e,o)=>{t((t=>({...t,[e]:o})))}}),(0,l.jsx)("br",{}),(0,l.jsx)(c.z,{studentViewVideos:y,handleRefreshVideos:()=>{j().then(n.noop).catch(n.noop)}})]})})};var j=o(5470);var y=()=>(0,l.jsx)(j.LayoutCohort,{title:"Mi Cohorte",children:(0,l.jsx)(p,{})})},2265:function(e){e.exports={layout:"layout_layout__uyPIo",profileMenu:"layout_profileMenu__LMu5I",content:"layout_content__07eim"}},1363:function(e){e.exports={container:"filters_container__ga5RG",label:"filters_label__NUfP8",selects:"filters_selects__gdPhm",selectOption:"filters_selectOption__3CdXe"}}},function(e){e.O(0,[4845,8437,9774,2888,179],(function(){return t=4932,e(e.s=t);var t}));var t=e.O();_N_E=t}]);