(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2246],{5483:function(e,o,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/my-cohort/academic-data",function(){return n(2343)}])},2343:function(e,o,n){"use strict";n.r(o),n.d(o,{default:function(){return J}});var t,s=n(5893),i=n(7294),r=n(5470),a=n(6486),l=n(5591),c=n(4334),d=n(1534),u=n(8919),v=n(1431),p=n(5537),h=n(4184),m=n.n(h);!function(e){e.AIC="AIC",e.DIFFICULTY="DIFFICULTY",e.EDUCATION="EDUCATION",e.EDUCATIONAL_EXPERIENCE="EDUCATIONAL_EXPERIENCE",e.PAYMENT="PAYMENT",e.PERSONAL_REASONS="PERSONAL_REASONS",e.SCHEDULES="SCHEDULES",e.TECHNICAL_REQUIREMENTS="TECHNICAL_REQUIREMENTS"}(t||(t={}));const E={AIC:"AIC: No estoy conforme con las condiciones",DIFFICULTY:"Dificultad: No me siento confiado de poder terminar la carrera con \xe9xito",EDUCATIONAL_EXPERIENCE:"Experiencia: No estoy conforme con mi experiencia en HENRY",PAYMENT:"No puedo pagar la cuota del Part Time",PERSONAL_REASONS:"Motivos personales",SCHEDULES:"Horarios: No puedo cumplir los horarios",EDUCATION:"Ense\xf1anza: No estoy conforme con la calidad de la ense\xf1anza en HENRY",TECHNICAL_REQUIREMENTS:"T\xe9cnicos: No cumplo los requisitos m\xednimos de internet o PC"},C=[{text:E[t.SCHEDULES],value:t.SCHEDULES},{text:E[t.DIFFICULTY],value:t.DIFFICULTY},{text:E[t.EDUCATION],value:t.EDUCATION},{text:E[t.AIC],value:t.AIC},{text:E[t.EDUCATIONAL_EXPERIENCE],value:t.EDUCATIONAL_EXPERIENCE},{text:E[t.PAYMENT],value:t.PAYMENT},{text:E[t.PERSONAL_REASONS],value:t.PERSONAL_REASONS},{text:E[t.TECHNICAL_REQUIREMENTS],value:t.TECHNICAL_REQUIREMENTS}];const g=m()(u.ceP["primary-grey"]),S=e=>{let{onConfirm:o,onHide:n,show:t,loading:i,academicInfo:r}=e;const a=[u.FQE.required];return(0,s.jsxs)(u.u_l,{hideCancelButton:!0,show:t,centered:!1,confirmLabel:"Confirmar solicitud",title:"Solicitud de suspensi\xf3n",formProps:{onSubmit:o,dataCy:"SUSPENSE_REQUEST_FORM"},confirmButtonProps:{loading:i,disabled:r.applicationFormFilled},onHide:n,children:[(0,s.jsx)("p",{className:g,children:"Record\xe1 que tendr\xe1s que migrar de cohorte antes de que pasen los 90 d\xedas de suspensi\xf3n."}),(0,s.jsx)(u.D2U,{name:"reason",label:"Seleccione motivo",options:C,rules:a})]})};const N=e=>{const{setShowSuspenseModal:o,showSuspenseModal:n}=e;return(0,s.jsx)(S,{show:n,onHide:()=>o(!1),...e})};var f=n(4514),j=n.n(f);const x=e=>{const{onConfirm:o,onHide:n,show:t,loading:i}=e,r=[u.FQE.required];return(0,s.jsxs)(u.u_l,{show:t,centered:!1,confirmLabel:"Confirmar solicitud",hideCancelButton:!0,title:"Solicitud de baja",formProps:{onSubmit:o,dataCy:"CLOSE_REQUEST_FORM"},confirmButtonProps:{loading:i},onHide:n,children:[(0,s.jsx)("p",{className:j().description,children:"Contanos el motivo de la solicitud de baja."}),(0,s.jsx)(u.D2U,{name:"reason",label:"Seleccione motivo",options:C,rules:r})]})};const A=e=>{const{setShowCloseModal:o,showCloseModal:n,onConfirm:t,loading:i}=e;return(0,s.jsx)(x,{show:n,onHide:()=>o(!1),onConfirm:t,loading:i})};var _,M=n(6533),b=n(8338),I=n.n(b);!function(e){e.ASSISTS="assists",e.CHECKPOINTS="checkpoints",e.REQUESTS="requests",e.ATTENDANCES="attendances"}(_||(_={}));var y=n(7484),P=n.n(y),D=n(7539),R=n.n(D);const T=e=>{let{isModuleCompleted:o,checkpointsModule:n,sanitizedCheckpoints:t}=e;return(0,s.jsx)("div",{className:R().container,children:(null===t||void 0===t?void 0:t.length)&&t.map((e=>(0,s.jsx)(u.Fre,{moduleName:e.name,completed:o(e.name),checkpoints:n(e.name)})))})};const U=e=>{let{checkpoints:o}=e;var n;const t=null===(n=null===o||void 0===o?void 0:o.map((e=>{var o;return{...e,grades:null===e||void 0===e||null===(o=e.grades)||void 0===o?void 0:o.map((e=>({...e,date:P()(e.date).format("DD/MM/YYYY")})))}})))||void 0===n?void 0:n.sort(((e,o)=>{const n=e.grades.some((e=>"APPROVED"===e.status));return n!==o.grades.some((e=>"APPROVED"===e.status))?n?-1:1:e.name.localeCompare(o.name)})),i=e=>{var o;return(null===(o=null===t||void 0===t?void 0:t.find((o=>{let{name:n}=o;return n===e})))||void 0===o?void 0:o.grades.map((e=>({...e,approved:"APPROVED"===e.status}))))||[]};return(0,s.jsx)(T,{isModuleCompleted:e=>!!i(e).find((e=>!0===e.approved)),sanitizedCheckpoints:t,checkpointsModule:i})};const L=e=>{let{attendances:o=[],attendanceName:n=""}=e;return(0,s.jsx)("div",{style:{marginBottom:".625rem"},children:(0,s.jsx)(u.ZTK,{attendanceName:n,attendances:o})})};const w=e=>e.map((e=>{const o={module:e.module,spaces:{lectures:{requiredSessionsPercentage:"100",percentage:"100",abcences:[],subtitle:"Lectures"},codeReview:{requiredSessionsPercentage:"100",percentage:"100",abcences:[],subtitle:"Code Review"},standUp:{requiredSessionsPercentage:"100",percentage:"1s00",abcences:[],subtitle:"Stand Up"}}};return e.spaces.forEach((e=>{const n="".concat(e.percentage);"Lecture"===e.subtitle?(o.spaces.lectures.percentage="0"===n?"100":n,o.spaces.lectures.abcences=e.abcences,o.spaces.lectures.requiredSessionsPercentage=e.requiredSessionsPercentage):"Code Review"===e.subtitle?(o.spaces.codeReview.percentage=0===+n?"100":n,o.spaces.codeReview.abcences=e.abcences,o.spaces.codeReview.requiredSessionsPercentage=e.requiredSessionsPercentage):"Stand Up"===e.subtitle&&(o.spaces.standUp.percentage="0"===n?"100":n,o.spaces.standUp.abcences=e.abcences,o.spaces.standUp.requiredSessionsPercentage=e.requiredSessionsPercentage)})),o})),O=e=>{let{academicInformation:o}=e;var n;const t=(e=>{if(!(null===e||void 0===e?void 0:e.attendance))return[];const o={};Object.keys(e.attendance).forEach((n=>{var t;const s=(null===(t=e.attendance)||void 0===t?void 0:t[n])||{};Object.keys(s).forEach((e=>{const t=s[e];var i,r;o[e]||(o[e]={}),o[e][n]||(o[e][n]={abcences:[],percentage:t.attendancePercentage,requiredSessionsPercentage:"".concat((null===(i=null===t||void 0===t?void 0:t.attendances[0])||void 0===i||null===(r=i.spaceConfiguration)||void 0===r?void 0:r.requiredSessionsPercentage)||0)}),t.attendances.forEach((t=>{t.attended||o[e][n].abcences.push(P()(t.createdAt).format("DD/MM/YYYY"))}))}))}));const n=Object.entries(o).map((e=>{let[o,n]=e;const t=Object.entries(n).map((e=>{let[o,n]=e,t="";return"LECTURE"===o&&(t="Lecture"),"STAND_UP"===o&&(t="Stand Up"),"CODE_REVIEW"===o&&(t="Code Review"),{subtitle:t,...n}}));return{module:o,spaces:t}}));return n.sort(((e,o)=>parseInt(e.module.substring(1),10)-parseInt(o.module.substring(1),10))),[{modules:n,attendances:w(n)}]})(o||{});return(0,s.jsx)("div",{children:null===(n=t[0])||void 0===n?void 0:n.attendances.map((e=>(0,s.jsx)(L,{attendanceName:e.module,attendances:[e.spaces]},e.module)))})};var Y=n(2833),k=n.n(Y);const q=e=>{let{migrations:o,suspensions:n,unsubscriptions:t}=e;return(0,s.jsxs)("div",{className:k().container,children:[(null===o||void 0===o?void 0:o.length)?(0,s.jsx)(u.D80,{requestName:"Migraci\xf3n",requests:o},"Migraci\xf3n"):null,(null===n||void 0===n?void 0:n.length)?(0,s.jsx)(u.D80,{requestName:"Suspensi\xf3n",requests:n},"Suspensi\xf3n"):null,(null===t||void 0===t?void 0:t.length)?(0,s.jsx)(u.D80,{requestName:"Bajas",requests:t},"Bajas"):null]})};const F=e=>{let{migrations:o,suspensions:n,unsubscriptions:t,previousMigration:i}=e;const r=(null===o||void 0===o?void 0:o.length)?null===o||void 0===o?void 0:o.map((e=>{var o;return{...e,createdAt:P()(null===e||void 0===e||null===(o=e.createdAt)||void 0===o?void 0:o.split("T")[0]).format("DD/MM/YYYY"),approved:!!(null===e||void 0===e?void 0:e.createdAt),previousCohort:i}})):[],a=(null===n||void 0===n?void 0:n.length)?null===n||void 0===n?void 0:n.map((e=>{var o;return{...e,createdAt:P()(null===e||void 0===e||null===(o=e.createdAt)||void 0===o?void 0:o.split("T")[0]).format("DD/MM/YYYY"),approved:!!(null===e||void 0===e?void 0:e.createdAt)}})):[],l=(null===t||void 0===t?void 0:t.length)?null===t||void 0===t?void 0:t.map((e=>{var o;return{...e,createdAt:P()(null===e||void 0===e||null===(o=e.createdAt)||void 0===o?void 0:o.split("T")[0]).format("DD/MM/YYYY"),approved:!!(null===e||void 0===e?void 0:e.createdAt)}})):[];return(0,s.jsx)(q,{migrations:r,suspensions:a,unsubscriptions:l})};const H=m()(I().tabsContainer,u.B22["body-medium"]),Z=e=>{let{academicInformation:o,previousMigration:n,isUpskilling:t}=e;var i,r,a,l,c;if(!o)return null;const d=[];return(null===o||void 0===o||null===(i=o.checkpoints)||void 0===i?void 0:i.length)&&d.push({key:_.CHECKPOINTS,label:"Checkpoints",children:(0,s.jsx)(U,{checkpoints:o.checkpoints})}),(null===o||void 0===o||null===(r=o.attendance)||void 0===r?void 0:r.length)&&!t&&d.push({key:_.ATTENDANCES,label:"Asistencias",children:(0,s.jsx)(O,{academicInformation:o})}),((null===o||void 0===o||null===(a=o.migrated)||void 0===a?void 0:a.length)||(null===o||void 0===o||null===(l=o.suspended)||void 0===l?void 0:l.length)||(null===o||void 0===o||null===(c=o.unsubscribe)||void 0===c?void 0:c.length))&&!t&&d.push({key:_.REQUESTS,label:"Solicitudes",children:(0,s.jsx)(F,{previousMigration:n,migrations:null===o||void 0===o?void 0:o.migrated,suspensions:null===o||void 0===o?void 0:o.suspended,unsubscriptions:null===o||void 0===o?void 0:o.unsubscribe})}),d.length?(0,s.jsx)(v.Z,{gap:"1.25rem",children:(0,s.jsx)(M.Z,{className:H,defaultActiveKey:d[0].key,items:d})}):null};var B=n(8894),Q=n(3393),V=n(7174),K=n(6273),G=n.n(K);const X=e=>{let{avaliableMigrations:o,firstCohort:n,showAvalibleMigrations:t=!0,setShowCloseModal:r,setShowSuspenseModal:a}=e;const l="sm"===(0,u.cKm)(),c=m()({[G().container]:!l}),[d,p]=(0,i.useState)(!1),h=(0,s.jsxs)(v.Z,{vertical:!0,children:[(0,s.jsx)(B.ZP,{type:"text",href:V.j.MyCohortMigrations.url,children:"Migraci\xf3n"}),(0,s.jsx)(B.ZP,{type:"text",onClick:()=>a(!0),children:"Suspensi\xf3n"}),(0,s.jsx)(B.ZP,{type:"text",onClick:()=>r(!0),children:"Darme de baja"})]}),E=[(0,s.jsx)(u.t0Q,{title:"Cohorte inicial",iconProps:{type:"people"},children:null===n||void 0===n?void 0:n.cohort.name}),t&&(0,s.jsx)(u.t0Q,{title:"Migraciones disponibles",iconProps:{type:"telegram"},children:(0,s.jsx)(v.Z,{justify:"space-between",align:"center",children:(0,s.jsx)("span",{children:o})})}),(0,s.jsx)(u.t0Q,{title:"Migraci\xf3n / Suspensi\xf3n / Baja",iconProps:{type:"bookmark"},children:(0,s.jsx)(Q.Z,{trigger:"click",placement:"bottom",open:d,onOpenChange:()=>p(!d),content:h,children:(0,s.jsxs)(v.Z,{justify:"space-between",className:G().popover,children:["Generar solicitud ",(0,s.jsx)(u.Apu,{type:"custom-arrow-right"})]})})})];return(0,s.jsx)(v.Z,{gap:"1.3125rem",className:c,children:l?(0,s.jsx)(u.LU1,{slides:E}):E.map((e=>e))})};const z=()=>{var e,o;const n=(0,u.J1k)(),{currentCohort:t}=(0,p.u)(),{addToast:r}=(0,u.F_u)(),[h,m]=(0,i.useState)(!1),[E,C]=(0,i.useState)(!1),{data:g}=(0,l.ZP)("fetch-academic-information",(0,u.Oyn)(d.Z.henry.personControllerAcademicInfo,{})),{data:S}=(0,l.ZP)((null===n||void 0===n?void 0:n.id)?["cohort-controller-get-available-cohort-for-migrations",n.id]:null,(0,u.Oyn)(d.Z.henry.cohortControllerGetAvailableCohortForMigrations,{id:null===n||void 0===n?void 0:n.id})),f=(null===(e=null===S||void 0===S||null===(o=S.previousMigrations)||void 0===o?void 0:o.at(-1))||void 0===e?void 0:e.name)||"",{trigger:j,isMutating:x}=(0,c.Z)("cohort-staff-controller-create-application-form",(0,u.G09)(d.Z.henry.cohortStaffControllerCreateApplicationForm),{onSuccess:()=>{r({type:"success",message:"Tu solicitud ha sido recibida correctamente. Una vez gestionada, estaremos en contacto."})},onError:()=>{r({type:"error",message:"Hubo un error al intentar solicitar la suspensi\xf3n."})}});return(0,s.jsxs)(v.Z,{vertical:!0,gap:"1.25rem",children:["CAREER"===(null===t||void 0===t?void 0:t.career.type)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(X,{avaliableMigrations:null===n||void 0===n?void 0:n.avaliableMigrations,firstCohort:null===g||void 0===g?void 0:g.firstCohort,showAvalibleMigrations:!0,setShowSuspenseModal:m,setShowCloseModal:C}),(0,s.jsx)(N,{loading:x,academicInfo:g||{},showSuspenseModal:h,setShowSuspenseModal:m,onConfirm:e=>{let{reason:o}=e;j({id:(null===t||void 0===t?void 0:t.id)||"",data:{reason:o,status:"PENDING",type:"SUSPENDED"}}).then(a.noop).catch(a.noop)}}),(0,s.jsx)(A,{showCloseModal:E,setShowCloseModal:C,onConfirm:e=>{let{reason:o}=e;j({id:(null===t||void 0===t?void 0:t.id)||"",data:{reason:o,status:"PENDING",type:"UNSUBSCRIBED"}}).then(a.noop).catch(a.noop)},loading:x})]}),(0,s.jsx)(Z,{academicInformation:g,previousMigration:f,isUpskilling:"UPSKILLING"===(null===t||void 0===t?void 0:t.career.type)})]})};var J=()=>(0,s.jsx)(r.LayoutCohort,{title:"Mi Cohorte",children:(0,s.jsx)(z,{})})},5470:function(e,o,n){"use strict";n.r(o),n.d(o,{LayoutCohort:function(){return x},default:function(){return A}});var t=n(5893),s=(n(7294),n(1163)),i=n(9008),r=n.n(i),a=n(7174),l=n(8919),c=n(7095),d=n(1700),u=n(5537),v=n(7484),p=n.n(v),h=n(4184),m=n.n(h),E=n(3832);const C=m()(l.B22["title-large"],l.ceP["primary-grey"]),g=m()(l.B22["label-large"],l.ceP["tertiary-grey"]),S=e=>{let{cohort:o,router:n}=e;var s,i,r;const c=(0,l.J1k)(),d="GRADUATED"===(null===c||void 0===c?void 0:c.cohortStatus),u=p()(o.startDate).format("DD/MM/YYYY"),v=p()(o.endDate).format("DD/MM/YYYY"),h="CAREER"===(null===o||void 0===o||null===(s=o.career)||void 0===s?void 0:s.type),m="UPSKILLING"===(null===o||void 0===o||null===(i=o.career)||void 0===i?void 0:i.type),S=[{dataCy:"CAREER_NAV_ITEM",label:"Mi Carrera",linkProps:{href:a.j.careerCohort.url,legacyBehavior:!0},active:(null===n||void 0===n?void 0:n.pathname)===a.j.careerCohort.url}];return"UFSOD"!==(null===(r=o.career.code)||void 0===r?void 0:r.toUpperCase())&&S.push({dataCy:"VIDEO_FEED_NAV_ITEM",label:"Video Feed",linkProps:{href:a.j.videoFeedMyCohort.url,legacyBehavior:!0},active:(null===n||void 0===n?void 0:n.pathname)===a.j.videoFeedMyCohort.url},{dataCy:"MEMBERS_NAV_ITEM",label:"Miembros",linkProps:{href:a.j.membersCohort.url,legacyBehavior:!0},active:(null===n||void 0===n?void 0:n.pathname)===a.j.membersCohort.url}),m||S.push({dataCy:"ACADEMIC_DATA_NAV_ITEM",label:"Datos Acad\xe9micos",linkProps:{href:a.j.academicDataCohort.url,legacyBehavior:!0},active:(null===n||void 0===n?void 0:n.pathname)===a.j.academicDataCohort.url}),(0,t.jsxs)("div",{children:[(0,t.jsx)(l.Aru,{title:(0,t.jsxs)("div",{className:C,children:["Cohorte ",o.name]}),subTitle:(0,t.jsxs)("div",{className:g,children:[(0,t.jsx)("span",{style:{marginRight:"0.25rem"},children:(0,t.jsx)(l.JO$,{type:"calendar"})}),"Inicio: ",u," - Fin: ",v]}),items:S}),(0,t.jsx)("br",{}),(h||m)&&!d&&(0,t.jsx)(E.D,{})]})};const N=e=>{let{router:o}=e;const{currentCohort:n}=(0,u.u)();return n?(0,t.jsx)(S,{router:o||{},cohort:n}):(0,t.jsx)("div",{})};var f=n(2265),j=n.n(f);const x=e=>{let{children:o,title:n}=e;const i=(0,s.useRouter)(),u=(0,l.cKm)(),v="sm"===u?{href:a.j.MyCohort.url,caption:"Volver a Mi Cohorte"}:{href:a.j.home.url,caption:"Volver a la home"},p="/my-cohort"===i.pathname,h=["md","lg","sd"].includes(u),m=h?"Mi Cohorte":n;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r(),{children:(0,t.jsxs)("title",{children:[m," ~ Henry"]})}),(0,t.jsx)(c.Z,{content:(0,t.jsxs)("div",{className:j().layout,children:[p||h?(0,t.jsx)("div",{className:j().profileMenu,children:(0,t.jsx)(N,{router:i})}):null,(0,t.jsx)("div",{className:j().content,children:o})]}),header:(0,t.jsx)(d.h,{}),headerInfo:(0,t.jsx)(l.NZf,{title:m,prevLink:v})})]})};var A=x},3832:function(e,o,n){"use strict";n.d(o,{D:function(){return l}});var t=n(5893),s=(n(7294),n(1163)),i=n(1348),r=n(5537),a=n(5764);const l=()=>{var e,o,n;const{pathname:l}=(0,s.useRouter)(),{currentCohort:c,isCurrentCohortLoading:d}=(0,r.u)(),{currentCareer:u,isCurrentCareerLoading:v}=(0,a.X)(),p="CAREER"===(null===c||void 0===c||null===(e=c.career)||void 0===e?void 0:e.type)||"UPSKILLING"===(null===c||void 0===c||null===(o=c.career)||void 0===o?void 0:o.type);return c&&u&&p&&"Proyecto Final"!==(null===u||void 0===u?void 0:u.currentModule.name)&&!l.includes("my-cohorts")?(0,t.jsx)(i.e,{isUpskilling:"UPSKILLING"===(null===c||void 0===c||null===(n=c.career)||void 0===n?void 0:n.type),cohortId:null===c||void 0===c?void 0:c.id,module:null===u||void 0===u?void 0:u.currentModule,isLoading:d||v}):null}},2265:function(e){e.exports={layout:"layout_layout__uyPIo",profileMenu:"layout_profileMenu__LMu5I",content:"layout_content__07eim"}},6273:function(e){e.exports={container:"header_container__0KVKx",popover:"header_popover__qWfX6"}},7539:function(e){e.exports={container:"checkpoints-section_container__Kg_Sj"}},2833:function(e){e.exports={container:"requests-section_container__FwDFe",tableTitle:"requests-section_tableTitle__MN25J",assistCardContainer:"requests-section_assistCardContainer__0EqVM",assistsRow:"requests-section_assistsRow__547Sl",mobileAssistsRow:"requests-section_mobileAssistsRow__xscxg"}},8338:function(e){e.exports={tabsContainer:"tabs_tabsContainer__waQdo"}},4514:function(e){e.exports={description:"close-request-modal_description__IhSss"}}},function(e){e.O(0,[4538,1033,8894,9952,4845,9774,2888,179],(function(){return o=5483,e(e.s=o);var o}));var o=e.O();_N_E=o}]);